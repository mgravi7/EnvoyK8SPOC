# Copilot Instructions for EnvoyK8SPOC

## General Guidelines

- Do NOT use emojis in any markdown files
- Do NOT use Unicode box-drawing characters or special Unicode symbols
- Use standard ASCII characters only for diagrams and formatting
- Use hyphens (-), pipes (|), and plus signs (+) for ASCII diagrams

## Project Context

This is a Proof of Concept (POC) project for learning and demonstrating Envoy Gateway with FastAPI microservices on Kubernetes.

### Development Environment
- Windows 11 (primary developer)
- macOS (team members)
- Docker Desktop with Kubernetes enabled
- Python 3.12

### Deployment Target
- Development: Docker Desktop Kubernetes (Windows/macOS)
- Production: Linux-based Kubernetes (distribution TBD)

### Technology Stack
- FastAPI for microservices
- Envoy Gateway for API Gateway
- Kubernetes Gateway API
- Keycloak for authentication (Phase 3)
- pytest for testing
- Python venv for virtual environments

## Code Style

### Python
- Follow PEP 8 guidelines
- Use type hints where appropriate
- Keep code simple and readable
- Use Data Access Layer pattern for data operations
- Include docstrings for functions and classes

### Docker
- Use multi-stage builds where beneficial
- Follow Python best practices for containerization
- Keep images small and efficient

### Kubernetes
- Use clear, descriptive resource names
- Include comments in YAML files
- Follow Kubernetes best practices
- Use namespaces appropriately

## File Organization

- Services: Keep FastAPI services simple with clear separation of concerns
- Python Files: Use underscores for module names (e.g., `customer_model.py`, `product_data_access.py`)
- Tests: Maintain separate unit and integration test folders
- Kubernetes: Organize manifests by deployment phase (numbered folders)
- Scripts: Bash scripts for cross-platform compatibility (Windows WSL/Git Bash, macOS, Linux)

## Documentation

- Use markdown for all documentation
- Keep documentation concise and practical
- Include examples and code snippets
- NO emojis or Unicode characters in markdown
- Use standard ASCII for diagrams

## Testing

- Write pytest tests for all services
- Include both unit and integration tests
- Each test folder should have its own requirements.txt
- Test authentication flows when implemented
- Test gateway routing and rate limiting

## Best Practices

- Use Python venv for dependency isolation
- Build Docker images locally for POC
- Follow cross-platform compatibility (Windows/macOS/Linux)
- Keep configurations simple and maintainable
- Document decisions and learnings
